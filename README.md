This programming assignment requires you to develop a tool that can estimate the end-to-end bandwidth capacity on the Internet path between a client and a server. While a naive way of estimating bandwidth is to measure the time taken to transfer say a large file, such an approach is intrusive (introduces excessive unwanted traffic in the network) and time-consuming. We are looking to develop a tool that estimates the bandwidth using minimal probing, using a technique called "packet-pair probing". To understand this technique, you are required to read about a tool called "Nettimer" developed at Stanford University. Please read through Sections 1 and 2.1 of the paper "Nettimer: A Tool for Measuring Bottleneck Link Bandwidth" by Kevin Lai and Mary Baker in preparation for this assignment.
The basic idea for your program (the client) is to send two back-to-back packets to a server, obtain the arrival times of these packets to the server, and compute the bottleneck bandwidth using the packet lengths and time difference of arrival (as per the paper above). In order for your client to know the arrival times of your packets to the server, I will run a server that reflects your packets back to you and includes a time-stamp corresponding to the arrival time of that packet to the server. Some details are:

How to send your packets: Your client program should send/receive packets using the UDP socket interface (please read through this socket tutorial to refresh your memory on socket programming).
Where to send your packets: Your packets should be sent to the server (whose IP address I will give out soon) on UDP port number 46420. In the future I will try to set up other servers around the world to which you can estimate the bandwidth.
What to send: Your packet (excluding Ethernet/IP/UDP headers) should start with the string "getmybw", which acts as a password (the server will drop any packet received which does not start with this password). It is recommended that the total size of your packet (including IP/UDP headers) be no more than 1500 bytes (so as to avoid fragmentation), but you should experiment with different packet sizes.
What happens then? The server should echo your packet back to you (so your program has to receive them on its socket), with the first 8 bytes (which originally contained the password) replaced by an 8-byte time-stamp that corresponds to the time at which the server recevied the packet. The 8 bytes are to be interpreted as follows: the first 4 bytes represent (in network format) the clock value in seconds, while the next 4 bytes denote (in network format) the clock value in microseconds, at the server.
How do I know what the server does? I am providing the echo server code which implements the server that echoes your packet back and includes a timestamp in the returned packet. You may use the echo server running at the above mentioned IP address and UDP port number to estimate the bandwidth between your machine and the server. Additionally, you may run the server on another machine, or use the server code as a template for your own implementation.
The working prototype has to be demonstrated in lab in week 4. At the demonstration you will be given a setup on which you have to determine the bandwidth, and you will also be asked to explain your code. Please make sure your bandwidth estimate result is displayed in units of Mbps (Megabits-per-second) - standardising the units makes it much easier when grading the project. Also, there is a bonus mark for anyone who implements some (reasonable) filtering methods to improve the accuracy of the displayed result, and another bonus mark for anyone who demonstrates this on a mobile phone platform (iOS, Android).

The preferred language for programming is C, but Java is also acceptable (though the lab demonstrators will not be able to help you with your code if you use Java). Bear in mind that though you may look at existing tools to understand the techniques they use, your code should be original. Any parts or functions that you have taken from other sources need to be clearly acknowledged. This exercise has to be done in groups of 2 students. Discussion is permitted and even encouraged, but there should be no copying of code. You are not required to submit a report; however, you will be required to submit a print-out of your source-code at the time of your demonstration.

Please bear in mind that the project description may evolve as our understanding of the exercise matures. Also, you are expected to think actively and give feedback to refine the problem. All updates will be posted on this web-page.